<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>ELECTRIC VEHICLES</title>
    <!-- Boostrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/cerulean/bootstrap.min.css">
    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- JS -->
    <script type="text/javascript" src="static/js/logic.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Orbitron">

    <style>
      body,h1,h2,h3,h4,h5,h6 {font-family: "Orbitron", sans-serif}
      body {font: size 14px;}
      .w3-half img{margin-bottom:-6px;margin-top:16px;opacity:0.8;cursor:pointer}
      .w3-half img:hover{opacity:1}
</style>
</head>

   <!--Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">EVnavbar</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

  <div class="collapse navbar-collapse" id="navbarColor01">
    <ul class="navbar-nav me-auto">
      <li class="nav-item active">
          <a class="nav-link" href="/">Home
            <span class="visually-hidden"></span>
          </a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/visualizations">Visualizations</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/predictions">Predictions</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/analysis">Analysis</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/data">Data</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/resources">Resources</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/team">Team</a>
      </li>
    </ul>
  </div>
</nav>
 <!-- Team -->
<div class="w3-container" id="team" style="margin-top:75px">
  <h1 class="w3-xxlarge w3-text-blue"><b>Analysis</b></h1>
  <hr style="width:50px;border:5px solid rgba(120, 240, 7, 0.623)" class="w3-round">
  <!-- <p><b>Our designers are thoughtfully chosen</b>:</p> -->
</div>

<div class="container-fluid">
  <div class="row" style="margin-top:3%">
    <div class="col-md-12">
        <blockquote class="blockquote text-center">
            <p class="mb-0">We sourced our data from Kaggles's Electric Car dataset namely <a href="https://www.kaggle.com/divyanshugupta95/electric-vehicle-analysis/data?select=ElectricCarData_Norm.csv"><b> Electric Vehicle Analysis </b></a>by Divyanshu Gupta and <a href =="https://www.kaggle.com/mathurinache/electriccarsalesbymodelinusa"><b> Electric Car Sales by Model in USA</b></a> by Mathurin Aché.
            </p>
        </blockquote>
        <br>
    </div>
  </div>
  <!--DATA GATHERING-->
  <div class="row">
    <div class="col-md-12">
        <h3><b>Data Gathering</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
        <blockquote class="blockquote">
            <p class="mb-0">
              <img src="static/images/kaggle.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
              We chose the Electric Car dataset for analysis as it is rich with informations about Vehicle details/specification, if not all, most electric vehicles in the current market. This dataset provides the make, model, Acceleration per Seconds, Top Speed, Range per Charge, Battery Pack, Efficiency, Fast Charge & the type of PowerTrain.
              In addition the Electric Car Sales by Model in USA provides the make, model and monthly electric vehicle sales data starting jan 2012 to dec 2019.
            <br>
            <!-- <br>This dataset has its own API that we used. Because the API only allows for 1000 incidents to be reviewed at one time, we first gathered all of the incidents recorded for 2020 by looping through each month in the API.  We then saved all of those incidents for 2020 to a CSV to explore and clean for our data analysis and modeling. -->
            </p>
          </blockquote>
    </div>
  </div>
  <!--DATA CLEANING-->
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Data Cleaning</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <blockquote class="blockquote">
          <p class="mb-0">
            <img src="static/images/dataset.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
              When pulling the row data from this database, we where faced with a very large
              dataset requiring an extensive clean up process which included removing null values, removing/renaming columns, creating a new calculated field
            . For example, most of the data is in Kilometers and we wanted to separate 
            those in Miles.
          </p>
      </blockquote>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-12">
      <blockquote class="blockquote">
          <p class="mb-0">
            <img src="static/images/strings.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
            We focused on all columns of integers information.  We also cleaned the columns with discrepancies in reporting. 
          </p>
      </blockquote>
    </div>
  </div>
  <!--TABLEAU-->
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Data Manipulation for Tableau</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
        <blockquote class="blockquote">
          <img src="static/images/tableau.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
            <p class="mb-0">Based on all of the cleaning techniques we performed, we utilized a subset of this data of our Tableau visualizations. We grouped the months by year to develop the yearly sales for 2019 and 2018 data. When it came to the features, we focused on 1 feature per visualization to highlight the best performing by make of the vehicle.
            </p>
        </blockquote>
    </div>
  </div>
  <!--FEATURE ENGINEERING-->
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Machine Learning Modeling</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <blockquote class="blockquote">
          <p class="mb-0">
            <img src="static/images/kvalues.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
            To prepare our dataset for machine learning modeling, we looped through different k values to find which had the highest level of accuracy. We used only odd
            numbers in order to avoid ties. We only used the columns that were coded to be classified 
            within this classification system and took out all of those categories not listed here. 
            These other values were an insignificant portion of the overall dataset at only 4% of the 
            total data.
          </p>
      </blockquote>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-12">
      <blockquote class="blockquote">
          <p class="mb-0">
            <!-- <img src="../images/kvalues.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
            After this, we label-encoded our target of status and the month column.  In addition, we 
            dummified our string columns of “division,” “district,” “day1”, and  “nibrs_crime_category.”
              We then analyzed our linear and tree-based correlations based on our features.  The label 
              and one-hot encoding we performed on for features, provided a lot of additional categories 
              so when we looked at our correlations, we took a subset of these correlating features to use 
              for our machine learning model.  We saved the linear and tree-based correlations to their own 
              data sets that we ran through our machine learning model. -->
          </p>
      </blockquote>
    </div>
  </div>
  <!--CORRELATIONS-->
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Correlations</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <blockquote class="blockquote">
          <p class="mb-0">
            <img src="static/images/heatmap.jpg" alt="Month Loop" style="float:left;width:35%;padding:2%;">
            The label and one-hot encoding we performed on for features, provided a lot of additional columns for our dataset 
            so investigated our correlations.  We took a subset of the correlations with the largest correlating factors as 
            displayed in the Correlation Heatmap.  We removed the feature categories with low correlations, leaving us with 
            the categories of: Acceleration, Efficiency, Seats, Top MPH, Range ,Fast Charge & Power Train, which are the finalized
            feature categories that we ran through our Machine Learning Model.
          </p>
      </blockquote>
    </div>
  </div>
  <br>
  <!--MACHINE LEARNING-->
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Machine Learning</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
        <blockquote class="blockquote">
            <p class="mb-0">
              <img src="static/images/randomforestregressor.jpg" alt="MonthLoop" style="float:left;width:35%;padding:2%;">
                After looking at correlations, we used the cleaned data set to create our model. A random forest regressor model was used with 200 estimators. The model's goal was to accurately
                predict the price of an electric vehicle using the features mentioned in the Correlations section. The model returns a predicted price for the user. Using the pickle library in python, the model was saved and implemented into the web app.
            </p>
        </blockquote>
    </div>
  <!-- </div>
  <br>
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
      <h5>Random Forest Regressor</h5>
        <blockquote class="blockquote">
            <p class="mb-0">
              The X-treme Gradient Boost Classifier was the model that we chose to 
              predict the probability of our data for Model 1.  It did not overfit the data and 
              it had the highest accuracy, F-1 and AUC scores. 
            </p>
        </blockquote>
    </div> -->
    <!-- <div class="col-md-6">
      <h5>Model 2: XG Boost Classifier</h5>
        <blockquote class="blockquote">
            <p class="mb-0">We also chose to use The X-treme Gradient Boost Classifier to predict the 
              probability of Model 2.  It did not overfit the data and it had the highest accuracy, 
              F-1 and AUC scores.
            </p>
        </blockquote> -->
    <!-- </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <img src="../images/randomforestregressor.jpg" alt="Alex" style="width:65%;padding:2%;" class="center">
    </div> -->
    <!-- <div class="col-lg-6">
      <img src="../images/kneighbors.jpg" alt="Alex" style="width:65%;padding:2%;" class="center">
    </div>
  </div> -->
  <!-- Feature Importances
  <div class="row" style="margin-top:5%">
    <div class="col-md-12">
        <h3><b>Feature Importances</b></h3>
        <br>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
        <blockquote class="blockquote">
            <p class="mb-0">We also investigated the feature importances of each of these models to determine what, if any features played a greater role in predicting status outcomes.
            </p>
        </blockquote>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-6">
      <h5>Model 1</h5>
        <blockquote class="blockquote">
            <p class="mb-0">
              The feature importances of Model 1 when determining whether or not an incident ends in suspension is heavily influenced by various crime categories overall.
            </p>
        </blockquote>
    </div>
    <div class="col-md-6">
      <h5>Model 2</h5>
        <blockquote class="blockquote">
            <p class="mb-0">The feature importances of Models 2, in which we determine whether an incident ends in an arrest or a clearance, is heavily weighted by the Crime Category: Miscellaneous at approximately 78%. Therefore, we have excluded that category to show the other contributing factors and their weights respectively.
            </p>
        </blockquote>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <img src="../static/images/feature_importances1.png" alt="Alex" style="width:65%;padding:2%;" class="center">
    </div>
    <div class="col-lg-6">
      <img src="../static/images/feature_importances2.png" alt="Alex" style="width:65%;padding:2%;" class="center">
    </div>
  </div> -->

</div>
  </body>

  </html>
  
  </html>